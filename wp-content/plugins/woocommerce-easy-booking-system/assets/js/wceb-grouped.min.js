!function(e){e(document).ready(function(){function t(e,t){if(e.sort(),t.sort(),e.length!=t.length)return!0;for(var c=0;c<e.length;c++)if(e[c]!=t[c])return!0;return!1}function c(){wceb.pickers.reset(),!0===wceb.session&&(wceb.clearBookingSession(),$reset_dates.hide()),a()}function r(){"two"===wceb.dateFormat&&wceb.checkIf.datesAreSet()?wceb.setPrice():"one"===wceb.dateFormat&&wceb.checkIf.dateIsSet("start")?wceb.picker.set():c()}function a(){var t=(e(this),[]);totalGroupedPrice=0,totalGroupedRegularPrice=0;var c=wceb.get.childrenIds();e.each(c,function(e,c){var r=wceb_object.product_price[e],a=wceb_object.product_regular_price[e];c>0&&(totalGroupedPrice+=parseFloat(r*c),""!==a?totalGroupedRegularPrice+=parseFloat(a*c):totalGroupedRegularPrice+=parseFloat(r*c)),t.push(c)}),max_qty=Math.max.apply(Math,t),max_qty>0?$pickerWrap.slideDown(200):$pickerWrap.hide(),$bookingPrice.attr("data-booking_price",totalGroupedPrice);var r=wceb.formatPrice(wceb.get.basePrice()),a='<span class="woocommerce-Price-amount amount">'+r+"</span>";if(totalGroupedPrice!==totalGroupedRegularPrice){$bookingPrice.attr("data-booking_regular_price",totalGroupedRegularPrice);var o=wceb.formatPrice(wceb.get.regularPrice()),a='<del><span class="woocommerce-Price-amount amount">'+o+'</span></del> <ins><span class="woocommerce-Price-amount amount">'+r+"</span></ins>"}$bookingPrice.html('<span class="price">'+a+"</span>")}wceb.dateFormat=wceb_object.booking_dates,wceb.firstDate=parseInt(wceb_object.first_date),wceb.bookingMin=parseInt(wceb_object.min),wceb.bookingMax=""===wceb_object.max?"":parseInt(wceb_object.max),wceb.bookingDuration=wceb_object.booking_duration,wceb.bookingCustomDuration=parseInt(wceb_object.booking_custom_duration),wceb.priceHtml=wceb_object.prices_html,$pickerWrap=e(".wceb_picker_wrap"),$reset_dates=$pickerWrap.find("a.reset_dates"),$bookingPrice=e(".booking_price"),$pickerWrap.hide(),wceb.pickers.init(),e(".cart").on("change",".quantity input.qty, .wc-grouped-product-add-to-cart-checkbox",function(){var a=wceb.get.childrenIds(),o=$reset_dates.attr("data-ids");""!==o?(o=JSON.parse(o),!0===t(Object.keys(a),Object.keys(o))?action="init":e.each(a,function(e,t){return o[e]!==t?(action="update",!1):(action=!1,!0)})):action="init",$reset_dates.attr("data-ids",JSON.stringify(a)),"init"===action?c():"update"===action&&r()})})}(jQuery);