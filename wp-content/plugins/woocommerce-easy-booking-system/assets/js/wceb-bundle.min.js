!function(e){e(document).ready(function(){function t(){var t=wceb.get.childrenIds();e('.cart[data-type="variable"]').each(function(){var a=e(this),r=a.find(".wceb-price-format"),o=a.data("product_variations");e.each(o,function(e,i){var c=i.variation_id;"undefined"!=typeof t[c]&&(current_variation=o[e],a.trigger("wceb_variation_found",[current_variation,a]),current_variation.is_bookable?r.html(wceb.priceHtml).show():r.hide())})});var i=$reset_dates.attr("data-ids");""!==i?(i=JSON.parse(i),!0===a(Object.keys(t),Object.keys(i))?action="init":e.each(t,function(e,t){return i[e]!==t?(action="update",!1):(action=!1,!0)})):action="init",$reset_dates.attr("data-ids",JSON.stringify(t)),"init"===action?r():"update"===action&&o()}function a(e,t){if(e.sort(),t.sort(),e.length!=t.length)return!0;for(var a=0;a<e.length;a++)if(e[a]!=t[a])return!0;return!1}function r(){wceb.pickers.reset(),wceb.clearBookingSession()}function o(){"two"===wceb.dateFormat&&wceb.checkIf.datesAreSet()?wceb.setPrice():"one"===wceb.dateFormat&&wceb.checkIf.dateIsSet("start")&&wceb.picker.set()}function i(t){totalBundlePrice=t.price,totalBundleRegularPrice=t.regular_price,$bookingPrice.attr("data-booking_price",totalBundlePrice),$bookingPrice.attr("data-booking_regular_price",totalBundleRegularPrice);var a=wceb.get.additionalCosts();if($bundle_price.remove(),e(".cart").find('input[name="quantity"]').length)var r=parseFloat(e(".cart").find('input[name="quantity"]').val());else var r=1;var o=parseFloat((totalBundlePrice+a)*r),i=parseFloat((totalBundleRegularPrice+a)*r),c='<span class="woocommerce-Price-amount amount">'+wceb.formatPrice(o)+wceb_object.price_suffix+"</span>";if(o!==i)var c='<del><span class="woocommerce-Price-amount amount">'+wceb.formatPrice(i)+wceb_object.price_suffix+'</span></del> <ins><span class="woocommerce-Price-amount amount">'+wceb.formatPrice(o)+wceb_object.price_suffix+"</span></ins>";$bookingPrice.find(".price").html(c)}wceb.dateFormat=wceb_object.booking_dates,wceb.firstDate=parseInt(wceb_object.first_date),wceb.bookingMin=parseInt(wceb_object.min),wceb.bookingMax=""===wceb_object.max?"":parseInt(wceb_object.max),wceb.bookingDuration=wceb_object.booking_duration,wceb.bookingCustomDuration=parseInt(wceb_object.booking_custom_duration),wceb.priceHtml=wceb_object.prices_html,$bookingPrice=e(".booking_price"),$body=e("body"),$bundle_wrap=e(".bundle_form .bundle_data"),$bundle_price=$bundle_wrap.find(".bundle_price"),$picker_wrap=e(".wceb_picker_wrap"),$reset_dates=$picker_wrap.find("a.reset_dates"),$bundle_wrap.on("woocommerce-product-bundle-show",function(e){$picker_wrap.slideDown(200),t(),e.stopPropagation()}),$bundle_wrap.on("woocommerce-product-bundle-hide",function(){$picker_wrap.hide()}),$bundle_wrap.on("woocommerce-product-bundle-updated-totals",function(e,t){if(!0!==wceb.session){var a=t.api.get_bundle_totals();i(a)}}),$body.on("reset_image",".variations_form",function(t,a){e(this).find(".wceb-price-format").hide()})})}(jQuery);